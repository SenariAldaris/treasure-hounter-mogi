<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Автоматически создаваемый уникальный код</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<style>
<!--
body {background-color:#ffffff; font: 15px Georgia, "Times New Roman" Georgia Times serif; margin: 0; padding: 0; text-align: center; color: #2d2d2d; }
h1,h2,h3,h4{ font-weight: normal; }
h1, h2, h3 { margin: 0; padding: 0; }
p { line-height: 22px; }
-->
</style>
</head>

<body>
<br>
<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td align="center"><br><h2>Автоматически создаваемый уникальный код (16-значный)</h2><br></td>
  </tr>
  <tr>
    <td align="left">
  <p>Сервис DIGISELLER позволяет определить товар, после оплаты  которого покупатель получит автоматически созданный уникальный 16-значный код.</p>
  <p>Для этого:<br>
  <ol>
	<li>при добавлении нового товара выберите тип «Уникальный товар с фиксированной ценой» или «Уникальный товар с <b>не</b>фиксированной ценой» (в чем разница, читайте ниже);</li>
	<li>укажите дополнительную опцию «Уникальный код (создается системой DIGISELLER автоматически)».</li>
  </ol>
  </p>
  <p>Выбор между товарами с фиксированной и нефиксированной ценой:<br>
  <ul>
	<li>с «фиксированной ценой» - подходит для большинства типов товаров, выдачу которых вы будете производить после проверки уникального кода;</li>
	<li>с «<b>не</b>фиксированной ценой» — рекомендуем продавцам игровой валюты, условных единиц (баллов, бонусов и пр.) для пополнения внутреннего счета на вашем ресурсе. При оплате потребуется указание количества приобретаемых единиц.</li>
  </ul>
  </p>
  
  <p><b>Передача уникального кода от покупателя к продавцу.</b></p>
  <p>Помимо ручной передачи уникального кода (покупатель связывается с вами любым доступным способом, или отправляет вам код с сайта oplata.info), процесс можно автоматизировать, указав в настройках товара адрес страницы (URL), на которую покупатель будет перенаправлен моментально после завершения платежа. Уникальный код будет добавлен к указанному вами адресу в качестве GET-параметра «<span style="color:green;">uniquecode</span>» (например, http://мой.сайт/моя_страница?<span style="color:green;">uniquecode</span>=XXXXXXXXXXXXXXXX)</p>
  <p>Кроме уникального кода, к указанному вами адресу будут добавлены все дополнительные параметры, которые вы передали в GET-запросе на страницу оплаты (http://мой.сайт/моя_страница?<span style="color:green;">uniquecode</span>=XXXXXXXXXXXXXXXX&мой_параметр1=YYY&мой_параметр2=ZZZ). Например, в качестве дополнительного параметра вы можете передать идентификатор зарегистрированного у вас пользователя (UserID) или его логин. Затем получив его вместе с уникальным кодом предоставить пользователю оплаченную им услугу (например, произвести зачисление на его внутренний счет).</p>
  
  <p><b>Проверка уникального кода.</b></p>
  <p>Проверить 16-код можно <a href="https://my.digiseller.ru/inside/search.asp?type=guid">вручную</a> или с помощью <a href="https://my.digiseller.ru/inside/myshop_unique_code_xml.asp">XML-интерфейса</a>. До тех пор, пока код не будет проверен вами, оплаченные средства не будут доступны. </p>
  <p>Использование <a href="https://my.digiseller.ru/inside/myshop_unique_code_xml.asp">XML-интерфейса</a> позволяет продавцу производить автоматическую проверку кода на собственном сайте. Это можно делать, к примеру, для автоматизации пополнения внутренних счетов пользователей или для завершения сделок купли-продажи в рамках вашего сайта (оплата доступа к закрытой области сайта).</p>
  
  <p><b>Что делает скрипт?</b></p>
  <p>Скрипт - это пример использования <a href="https://my.digiseller.ru/inside/myshop_unique_code_xml.asp">XML-интерфейса</a>. Он производит поиск введенного кода. В случае успеха скрипт возвращает детали платежа (сумму, номер оплаченного счета, идентификатор товара, дату и время платежа и пр.)</p>  
  
  <p><b>Установка скрипта</b></p>
  <ol>
	<li>скопируйте архив на сервер и распакуйте его;</li>
	<li>при необходимости внесите корректировки в конфигурационный файл config.php.</li>
  </ol>

  <p><b>Описание файлов</b></p>
  <p>
	<i>config.php</i> - файл с основными настройками;<br>
	<i>index.php</i> - пример использования скрипта с ручной проверкой;<br>
	<i>index_auto.php</i> - пример использования скрипта с автоматической передачей кода;<br>
	<i>main.php</i> - класс с функционалом.<br>
  </p>

  <p><b>Использование скрипта</b></p>
  <p>
  Пример ручной проверки кода:
  <ol>
  <li>запустите файл index.php в распакованном каталоге;</li>
  <li>введите код в текстовое поле;</li>
  <li>нажмите кнопку «Проверить».</li>
  </ol>
  Аналогичную проверку вы как продавец можете выполнить на сайте DIGISELLER, перейдя по ссылке <a href="https://my.digiseller.ru/inside/search.asp?type=guid">https://my.digiseller.ru/inside/search.asp?type=guid</a>
  </p>
  
  <p>Пример автоматической проверки кода:
  <ul>
  Запустите файл index_auto.php в распакованном каталоге, передайте уникальный код GET-параметром «<span style="color:green;">uniquecode</span>» (например, http://сайт.ру/путь_до_папки_со_скриптом/index_auto.php?<span style="color:green;">uniquecode</span>=1234567891012131).<br>
  В случае успеха скрипт возвращает детали платежа, в случае ошибки – соответствующее сообщение.
  </ul>
  </p>

  <p><b>Важно:</b> во избежание повторного начисления настоятельно рекомендуется сохранять полученный код в базе данных и каждый раз проверять его на уникальность.</p>
  
  <p>&nbsp;</p>
  <p><b>Ваши вопросы и предложения присылайте на:  <em><strong><a href="mailto:shop@digiseller.ru">shop@digiseller.ru</a></em>
  </p>
  <p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>
  
  </td>
  </tr>
</table>
</body>
</html>
