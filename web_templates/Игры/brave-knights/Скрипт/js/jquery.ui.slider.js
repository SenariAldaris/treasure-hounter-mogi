/* * пользовательского интерфейса jQuery слайдер 1.8.16 * * Авторское право 2011, AUTHORS.txt (http://jqueryui.com/about) * двойной лицензией mit или GPL версии 2 лицензии. * http://jquery.org/license * * http://docs.jquery.com/UI/Slider * * зависит: * jquery.ui.core.js * jquery.ui.mouse.js * jquery.ui.widget.js */
(функция(г){д'.виджет("пользовательского интерфейса.слайдер",д'.пользовательского интерфейса.мышь,{widgetEventPrefix:"слайд",параметры:{одуш:ложные,расстояние:0,Макс:100,мин:0,ориентация:"горизонтальный",диапазон:ложь,Шаг:1,значение:0значения:нуль},_create:функция(){var с собой=это,б=в этом.вариантов,с=это.элемент.найти(".в UI-слайдер-ручка").addclass, его("в UI-государство-умолчанию пользовательского интерфейса углу-все"),Ф=б.значения&&б.значения.Длина||1,е=[];это._mouseSliding=это._keySliding=ложь;это._animateOff=правда;это._handleIndex=нуль;это._detectOrientation();это._mouseInit();это.элемент.addclass, его("пользовательский интерфейс-пользовательский интерфейс ползунок-слайдер-"+
это.ориентация+" пользовательский интерфейс-пользовательский интерфейс виджета-виджет-содержимого пользовательского интерфейса углу-все"+(б.инвалид?" в UI-слайдер-инвалидов пользовательского интерфейса-инвалидов":""));это.диапазон=д([]);Если(Би.диапазон){если(б.диапазон===правда){если(!б.значения)б.значения=[этого._valueMin(),это._valueMin()];если(б.значения.длина&&б.значения.длина!==2)Б.значения=[б.значения[0],б.значения[0]]}это.диапазон=д("<див></див>").добавление(это.элемент).addclass, его("в UI-ползунок диапазона пользовательского интерфейса-виджет-Заголовок"+(б.диапазон==="минута"||Би.диапазон==="Макс"?" в UI-ползунок диапазона-"+Би.диапазон:""))}для(вар J в=Си.длина;Дж<Ф;С j+=1)е.толчок("<класс='пользовательский интерфейс-слайдер-дескриптор пользовательского интерфейса-государства-умолчанию пользовательского интерфейса углу-все' в href='#'></в>");
это.ручками=АР.добавить(д'е.присоединиться("")).добавление а.Элемент));это.ручка=это.ручками.эквалайзер(0);этот.ручками.добавлять(это.диапазон).фильтр("а").нажмите кнопку(функция(г){г.метод preventdefault()}).при наведении(функция(){б.инвалидов||д(эта).addclass, его("пользовательского интерфейса-государства-ховер")},функция(){д(эта).removeClass("пользовательского интерфейса-государства-ховер")}).фокус(функция(){если(б.инвалидов)д(эта).размытие();иначе{д(".пользовательский интерфейс-слайдер .пользовательского интерфейса-государства-фокус").removeClass("пользовательского интерфейса-государства-фокус");д(эта).addclass, его("пользовательского интерфейса-государства-фокус")}}).размытие(функция(){д(эта).removeClass("пользовательского интерфейса-государства-фокус")});этот.ручками.каждый(функция(Г){Д(эта).данных("индекс.в UI-слайдер-ручки",
г)});этот.ручками.клавиша вниз(функция(г){var с к=истина,Л=Д(эта).данных("индекс.в UI-слайдер-ручка"),я,ч,м;Если(!собой.варианты.инвалидов){переключатель(рис.ключ){случай д'.пользовательского интерфейса.код ключа.Домой:дело д'.пользовательского интерфейса.код ключа.Конец:дело д'.пользовательского интерфейса.код ключа.PAGE_UP:дело д'.пользовательского интерфейса.код ключа.PAGE_DOWN:дело д'.пользовательского интерфейса.код ключа.До:дело д'.пользовательского интерфейса.код ключа.Справа:чехол д.пользовательского интерфейса.код ключа.Вниз:дело д'.пользовательского интерфейса.код ключа.Слева:к=ложь;если(!собой._keySliding){а._keySliding=истина;д(эта).addclass, его("пользовательского интерфейса-государства-активные");я=есть._start(г,л);если(я===ложные)возвращение}перерыв}М=А.варианты.шаг;я=есть.варианты.значения&&собой.варианты.значения.длина?
(ч=а.значения(л)):(ч=а.значение());переключатель(рис.ключ){случай д'.пользовательского интерфейса.код ключа.Дома:ч=а._valueMin();перерыва;дело д'.пользовательского интерфейса.код ключа.Конец:ч=а._valueMax();перерыва;дело д'.пользовательского интерфейса.код ключа.PAGE_UP:ч=а._trimAlignValue(я+а._valueMax()-есть._valueMin())/5);перерыва;дело д'.пользовательского интерфейса.код ключа.PAGE_DOWN:ч=а._trimAlignValue(я-а._valueMax()-есть._valueMin())/5);перерыва;дело д'.пользовательского интерфейса.код ключа.До:дело д'.пользовательского интерфейса.код ключа.Правильно:если(я===есть._valueMax())возвращение;ч=а._trimAlignValue(Я+М);перерыва;дело д'.пользовательского интерфейса.код ключа.Вниз:дело д'.пользовательского интерфейса.код ключа.Слева:если(я===есть._valueMin())возвращение;ч=а._trimAlignValue(я-
м);перерыв}а._slide(г,л,сек);возврат к K}}).клавиша вверх(функция(г){вар К=Д(эта).данных("индекс.в UI-слайдер-ручка");если(файл._keySliding){а._keySliding=ложь;файл._stop(Г,К);А._change(Г,К);Д(эта).removeClass("пользовательского интерфейса-государства-активные")}});этот._refreshValue();это._animateOff=ложь},уничтожить:функция(){это.ручками.Удалить();это.диапазон.Удалить();это.элемент.removeClass("пользовательский интерфейс-пользовательский интерфейс ползунок-слайдер-горизонтальной пользовательского интерфейса-слайдер-вертикальный интерфейс-слайдер-инвалидов пользовательский интерфейс-пользовательский интерфейс виджета-виджет-содержимого пользовательского интерфейса углу-все").removeData("слайдер").отменить привязку(".ползунок");этот._mouseDestroy();
вернуть это},_mouseCapture:функция(а){вар б=в этом.вариантов,с,F,е,J,г;Если(б.инвалидов)возвращение ложным;это.elementSize={Ширина:эта.элемент.outerWidth(),высота:этот.элемент.outerHeight()};это.elementOffset=это.элемент.смещение();с=это._normValueFromMouse({x:a.pageX,y:a.pageY});Ф=этот._valueMax()-это._valueMin()+1;J в=этот;этот.ручками.каждый(функция(к){var С Л=Математика.АБС(Си-Джей.значения(к));если(ф>л){ф=л;е=д(эта);г=к}});если(Би.диапазон===верно&&это.значения(1)===Б.мин){г+=1;е=д(это.ручками[г])}если(это._start(А,Г)===ложные)возвращение ложным;
это._mouseSliding=истина;Дж._handleIndex=Г;Е.addclass, его("пользовательского интерфейса-государства-активные").фокус();б=е.смещение();этот._clickOffset=!Д А.створ).родители().andSelf().это(".в UI-слайдер-ручка")?{слева:0,топ:0}:{слева:.pageX-б.слева-e.Ширина()/2,вверху:.pageY-б.топ-е. Высота()/2-(parseIntе.в CSS("borderTopWidth"),10)||0)-(parseIntе.в CSS("borderBottomWidth"),10)||0)+(parseIntе.в CSS("marginTop"),10)||0)};этот.ручками.hasClass("пользовательского интерфейса-государства-ховер")||это._slide(а,G,с);возврат этот._animateOff=истина},_mouseStart:функция(){возвращение истинного},_mouseDrag:функция(а){варб=
это._normValueFromMouse({x:a.pageX,y:a.pageY});этот._slide(а,это._handleIndex,б);возвращение ложным},_mouseStop:функция(а){это.ручками.removeClass("пользовательского интерфейса-государства-активные");этот._mouseSliding=ложь;это._stop(а,это._handleIndex);этот._change(а,это._handleIndex);этот._clickOffset=это._handleIndex=нуль;возвращение этого._animateOff=ложь},_detectOrientation:функция(){это.ориентация=это.варианты.ориентация==="вертикаль"?"вертикаль":"горизонтальная"},_normValueFromMouse:функция(а){вар б;если(этот.ориентация==="по горизонтали"){б=
это.elementSize.Ширина;В=А.х-это.elementOffset.слева-(это._clickOffset?это._clickOffset.оставил:0)}еще{б=в этом.elementSize.высоты;А=А.у-это.elementOffset.топ-(это._clickOffset?это._clickOffset.топ:0)}Б=А/Б;если(б>1)Б=1;Если(б<0)б=0;Если(этот.ориентация==="вертикальный")Б=1-Б;А=это._valueMax()-это._valueMin();вернуть это._trimAlignValue(это._valueMin()+Б*А)},_start:функция(А,Б){вар с={ручка:этот.ручками[б],значение:это.значение()};если(этот.варианты.значения&&это.варианты.значения.длина){Си.значение=эта.значения(б);
АР.значения=в этом.значения()}вернуть это._trigger("старт",а,с)},_slide:функция(А,Б,В){вар Ф;если(этот.варианты.значения&&это.варианты.значения.длина){Ф=этот.ценностей ("б"?0:1);Если(этот.варианты.значения.длина===2&&в этом.варианты.диапазон===верно&&(B=в==0&&С>Ф||Б===1&&С<Ф))С=Ф;если(к!==это.значения(б)){F=отэтого.значения();Ф[В]=С;В=этом._trigger("скольжение",а,{ручка:этот.ручками[б],значение:с,значения:Ф});этот.ценностей ("б"?0:1);в!==значение false&&это.значения(б,в,истина)}}остальное , если(с!==это.значение()){а=это._trigger("скольжение",а,{ручка:этот.ручками[б],значение:АР});
есть!==значение false&&это.стоимость(c)}},_stop:функция(А,Б){вар с={ручка:этот.ручками[б],значение:это.значение()};если(этот.варианты.значения&&это.варианты.значения.длина){Си.значение=эта.значения(б);АР.значения=в этом.значения()}в этом._trigger("стоп",а,с)},_change:функция(а,б){если(!это._keySliding&&!это._mouseSliding){вар с={ручка:этот.ручками[б],значение:это.значение()};если(этот.варианты.значения&&это.варианты.значения.длина){Си.значение=эта.значения(б);АР.значения=в этом.значения()}в этом._trigger("изменение",а,с)}},значение:функция(а){если(аргументы.длина){это.варианты.значение=
это._trimAlignValue(а);этот._refreshValue();это._change(нуль,0)}иначе вернуть это._value()},значения:функция(А,Б){var в с,F,е;если(аргументы.Длина>1){это.варианты.значения[а]=это._trimAlignValue(б);этот._refreshValue();это._change(нуль,в)}остальное , если(аргументы.длина)если(ум.isArray(аргументы[0])){С=это.варианты.значения;Ф=аргументы[0];дляе=0;е<ц.длина;Е+=1){С[Е]=В этом._trimAlignValue(Ф[Е]);этот._change(нуль,Е)}В этом._refreshValue()}иначе вернуть это.варианты.значения&&это.варианты.значения.длина?это._values(а):
это.значение();иначе возврат этот._values()},_setOption:функция(А,Б){var в C,то Ф=0;Если(ум.isArray(это.варианты.значения))Ф=этот.варианты.значения.длина;д'.Виджет.прототип._setOption.по Apply(это,аргументы);выключатель(в){случае "инвалиды":если(б){это.ручками.фильтр(".пользовательского интерфейса-государства-фокус").размытие();это.ручками.removeClass("пользовательского интерфейса-государства-овер");этот.ручками.propAttr("отключено",истина);этот.элемент.addclass, его("пользовательский интерфейс отключен")}еще{этот.ручками.propAttr("отключено",ложь);это.элемент.removeClass("пользовательский интерфейс отключен")}перерыва;случае "ориентация":это._detectOrientation();
это.элемент.removeClass("пользовательского интерфейса-слайдер-горизонтальной пользовательского интерфейса-слайдер-вертикальный").addclass, его("пользовательский интерфейс-слайдер-"+это.ориентации);этот._refreshValue();перерыва;случае "ценность":это._animateOff=правда;это._refreshValue();это._change(нуль,0);этот._animateOff=ложь;перерыв;случай "значения":это._animateOff=правда;это._refreshValue();дляС=0;С<Ф;С+=1)этот._change(нуль,в);этот._animateOff=ложь;перерыв}},_value:функция(){var с собой=это.варианты.значение;возвращение в=этом._trimAlignValue(а)},_values:функция(а){вар Б,В;если(аргументы.длина){б=в этом.варианты.значения[а];
вернуться б=в этом._trimAlignValue(б)}еще{б=в этом.варианты.значения.ломтик();дляС=0;С<Б.длина а;C+=1)Б[АР]=это._trimAlignValue(б[с]);возвращение б}},_trimAlignValue:функция(а){если(а<=в этом._valueMin())возвращают это._valueMin();если(а>=в этом._valueMax())возвращают это._valueMax();вар б=в этом.варианты.шаг>0?это.варианты.Шаг:1,С=(В-это._valueMin())%b;В=А-С;если(Математика.АБС(с)*2>=Б)+=С>0?Б:-Б;возврат parseFloat(а.toFixed(5))},_valueMin:функция(){возвращение этого.варианты.мин},_valueMax:функция(){возвращение этого.варианты.Макс},_refreshValue:функция(){var СА=
это.варианты.спектр,б=в этом.вариантов,с=эта,Ф=!это._animateOff?б.анимировать:ложные,е,J={},Г,К,Л,Я;если(этот.варианты.значения&&это.варианты.значения.длина)этого.ручками.каждый(функция(ч){е=(АР.значения(н)-АР._valueMin())/(АР._valueMax()-АР._valueMin())*100;Дж[Си.ориентация==="по горизонтали"?"слева":"дно"]="Е+"%";Д(эта).стоп(1,1) ["ф"?"анимировать":"УСБ"](Дж,б.анимировать);если(АР.варианты.диапазон===истина), если(АР.ориентация==="по горизонтали"){если(ч===0)АР.диапазон.стоп(1,1) ["ф"?"анимировать":"УСБ"]({слева:Е+"%"},Б.анимировать);если(ч===1)Си.диапазон[Ф?"анимировать":"УСБ"]({Ширина:е-
г+"%"},{очереди:ложь,Длительность:б.анимировать})}еще{если(ч===0)АР.диапазон.стоп(1,1) ["ф"?"анимировать":"УСБ"]({внизу:Е+"%"},Б.анимировать);если(ч===1)Си.диапазон[Ф?"анимировать":"УСБ"]({высота:Эл-Джи+"%"},{очереди:ложь,Длительность:б.анимировать})}Г=Е});еще{к=эта.значение();л=этот._valueMin();я=это._valueMax();е=я!==л?(К-Л)/(Я-л)*100:0;Дж[Си.ориентация==="горизонтальная"?"слева":"дно"]="е+"%";это.ручка.стоп(1,1) ["ф"?"анимировать":"УСБ"](Дж,б.анимировать);если(а==="мин"&&это.ориентация==="по горизонтали")это.диапазон.стоп(1,1) ["ф"?"анимировать":"УСБ"]({Ширина:е+"%"},
б.анимировать);если(а==="Макс"&&это.ориентация==="по горизонтали")это.диапазон[Ф?"анимировать":"УСБ"]({Ширина:100-е+"%"},{очереди:ложь,Длительность:б.анимации});если(а==="мин"&&это.ориентация==="вертикаль")это.диапазон.стоп(1,1) ["ф"?"анимировать":"УСБ"]({высота:Е+"%"},Б.анимировать);если(а==="Макс"&&это.ориентация==="вертикаль")это.диапазон[Ф?"анимировать":"УСБ"]({высота:100-е+"%"},{очереди:false вДлительность:б.анимировать})}}});д'.продлить(ум.пользовательского интерфейса.слайдер,{версии:"1.8.16"})})(jQuery) и;